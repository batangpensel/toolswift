<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>PDF Merger - ToolSwift</title><script src="https://cdn.tailwindcss.com"></script><script src="https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script><script src="https://unpkg.com/sortablejs@1.15.0/Sortable.min.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"></head><body class="bg-slate-50 dark:bg-slate-900 min-h-screen"><div id="root" class="max-w-4xl mx-auto p-8"></div><script type="text/babel">
const { useState, useRef, useEffect } = React;
const { PDFDocument } = PDFLib;

const App = () => {
  const [files, setFiles] = useState([]);
  const listRef = useRef();

  useEffect(() => { if (listRef.current) Sortable.create(listRef.current, { animation: 150 }); }, [files]);

  const merge = async () => {
    const pdfDoc = await PDFDocument.create();
    for (const file of files) {
      const buf = await file.arrayBuffer();
      if (file.type === "application/pdf") {
        const src = await PDFDocument.load(buf);
        const pages = await pdfDoc.copyPages(src, src.getPageIndices());
        pages.forEach(p => pdfDoc.addPage(p));
      } else if (file.type.startsWith("image/")) {
        const img = file.type.includes("png") ? await pdfDoc.embedPng(buf) : await pdfDoc.embedJpg(buf);
        const page = pdfDoc.addPage([img.width, img.height]);
        page.drawImage(img, { x: 0, y: 0, width: img.width, height: img.height });
      }
    }
    const bytes = await pdfDoc.save();
    const blob = new Blob([bytes], { type: "application/pdf" });
    const url = URL.createObjectURL(blob);
    const a = document.createElement("a"); a.href = url; a.download = "merged.pdf"; a.click();
  };

  return (
    <div class="bg-white dark:bg-slate-800 rounded-3xl shadow-2xl p-10">
      <h1 class="text-5xl font-bold text-center mb-8">PDF Merger & Images → PDF</h1>
      <input type="file" multiple accept=".pdf,image/*" onChange={e => setFiles([...e.target.files])} class="hidden" id="f"/>
      <label htmlFor="f" class="block border-4 border-dashed border-blue-500 rounded-3xl p-24 text-center cursor-pointer hover:bg-blue-50 dark:hover:bg-slate-700">
        <i class="fa-solid fa-cloud-arrow-up text-8xl text-blue-600 mb-6"></i>
        <p class="text-3xl font-bold">Drop files here or click</p>
      </label>
      {files.length > 0 && (
        <div class="mt-10">
          <h3 class="text-2xl font-bold mb-4">Drag to reorder ({files.length} files)</h3>
          <div ref={listRef} class="space-y-4 max-h-96 overflow-y-auto">
            {files.map((f,i) => (
              <div key={i} class="flex items-center bg-slate-100 dark:bg-slate-700 p-5 rounded-xl">
                <i class={`fa-solid ${f.type==='application/pdf'?'fa-file-pdf text-red-500':'fa-file-image text-green-500'} text-3xl mr-4`}></i>
                <span class="flex-1 truncate text-lg">{f.name}</span>
                <button onClick={() => setFiles(files.filter((_,x)=>x!==i))} class="text-red-600 ml-4"><i class="fa-solid fa-trash"></i></button>
              </div>
            ))}
          </div>
          <button onClick={merge} class="w-full mt-8 bg-gradient-to-r from-blue-600 to-purple-600 text-white py-5 rounded-2xl text-2xl font-bold hover:shadow-2xl">Download Merged PDF</button>
        </div>
      )}
      <p class="text-center mt-10"><a href="index.html" class="text-blue-600 text-xl">← All Tools</a></p>
    </div>
  );
};
ReactDOM.createRoot(document.getElementById('root')).render(<App />);
</script></body></html>
