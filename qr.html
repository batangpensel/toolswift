<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>QR Code Generator â€¢ UtilityKit</title>
  <meta name="description" content="Create stunning custom QR codes with frames, logos, colors, and text in seconds.">

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "SoftwareApplication",
  "name": "UtilityKit QR Code Generator",
  "url": "https://utilitykit.xyz/qr.html",
  "applicationCategory": "UtilitiesApplication",
  "operatingSystem": "Any",
  "offers": { "@type": "Offer", "price": "0", "priceCurrency": "USD" },
  "description": "Generate and scan QR codes instantly. Create WiFi, URL, and Text QR codes.",
  "featureList": "QR Generator, QR Scanner"
}
</script>
  
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <style>
    .drop-zone { transition: all 0.3s; border: 4px dashed #f472b6; }
    .drop-zone.dragover { border-color: #ec4899; background-color: #fdf2f8; transform: scale(1.02); }
    .copy-feedback { opacity: 0; transition: opacity 0.4s; }
    .copy-feedback.show { opacity: 1; }
  </style>
</head>
<body class="bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-100 dark:from-slate-950 dark:to-slate-900 min-h-screen">

  <!-- Header -->
<header class="bg-white/80 dark:bg-slate-900/80 backdrop-blur-md shadow-lg sticky top-0 z-50">
  <div class="container mx-auto px-6 py-5 flex flex-wrap items-center justify-between">
    <a href="index.html" class="flex items-center gap-3">
      <h1 class="text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600">UtilityKit</h1>
    </a>
    <nav class="flex flex-wrap gap-4 md:gap-6 text-lg">
      <a href="pdf.html" class="nav-link hover:text-blue-600 dark:hover:text-blue-400 transition"><i class="fa-solid fa-file-pdf mr-1"></i>PDF</a>
      <a href="image.html" class="nav-link hover:text-blue-600 dark:hover:text-blue-400 transition"><i class="fa-solid fa-image mr-1"></i>Image</a>
      <a href="qr.html" class="nav-link hover:text-blue-600 dark:hover:text-blue-400 transition"><i class="fa-solid fa-qrcode mr-1"></i>QR</a>
      <a href="ocr.html" class="nav-link hover:text-blue-600 dark:hover:text-blue-400 transition"><i class="fa-solid fa-eye mr-1"></i>OCR</a>
      <a href="calculator.html" class="nav-link hover:text-blue-600 dark:hover:text-blue-400 transition"><i class="fa-solid fa-gauge-high mr-1"></i>Calculator</a>
      <a href="password.html" class="nav-link hover:text-blue-600 dark:hover:text-blue-400 transition"><i class="fa-solid fa-key mr-1"></i>Password</a>
      <a href="json.html" class="nav-link hover:text-blue-600 dark:hover:text-blue-400 transition"><i class="fa-solid fa-code mr-1"></i>JSON</a>
      <a href="base64.html" class="nav-link hover:text-blue-600 dark:hover:text-blue-400 transition"><i class="fa-solid fa-lock mr-1"></i>Base64</a>
      <a href="timestamp.html" class="nav-link hover:text-blue-600 dark:hover:text-blue-400 transition"><i class="fa-solid fa-clock mr-1"></i>Timestamp</a>
      
      <!-- === NEW TOOLS IN NAV === -->
      <a href="compress.html" class="nav-link hover:text-blue-600 dark:hover:text-blue-400 transition"><i class="fa-solid fa-file-zipper mr-1"></i>Compressor</a>
      <a href="markdown.html" class="nav-link hover:text-blue-600 dark:hover:text-blue-400 transition"><i class="fa-brands fa-markdown mr-1"></i>DevToolkit</a>
      <a href="currency.html" class="nav-link hover:text-blue-600 dark:hover:text-blue-400 transition"><i class="fa-solid fa-dollar-sign mr-1"></i>Currency</a>
    </nav>
  </div>
</header>
  
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrious/4.0.2/qrious.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"/>
  
  <style>
    input[type="color"] { -webkit-appearance: none; border: none; width: 100%; height: 48px; border-radius: 12px; cursor: pointer; padding: 0; overflow: hidden; }
    input[type="color"]::-webkit-color-swatch-wrapper { padding: 0; }
    input[type="color"]::-webkit-color-swatch { border: none; border-radius: 12px; }
    #main-canvas { transition: opacity 0.2s ease; }
  </style>
</head>
<body class="bg-gray-50 dark:bg-slate-900 min-h-screen font-sans text-slate-800 dark:text-slate-200">

  <div class="max-w-7xl mx-auto p-4 md:p-8">
    <div class="grid lg:grid-cols-12 gap-8 mt-6">
      
      <div class="lg:col-span-4 space-y-6">
        
        <div class="bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700">
          <h2 class="text-lg font-bold mb-4 flex items-center gap-2"><i class="fa-solid fa-pen-to-square text-indigo-500"></i> Content</h2>
          <select id="type" class="w-full p-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl mb-3 outline-none focus:ring-2 focus:ring-indigo-500">
            <option value="text">Website / Text</option>
            <option value="wifi">Wi-Fi Network</option>
            <option value="email">Email Message</option>
            <option value="phone">Phone Number</option>
          </select>
          <div id="dynamic-fields" class="space-y-3"></div>
        </div>

        <div class="bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700">
          <h2 class="text-lg font-bold mb-4 flex items-center gap-2"><i class="fa-solid fa-crop-simple text-indigo-500"></i> Frame</h2>
          
          <div class="grid grid-cols-2 gap-3 mb-4">
            <div class="col-span-2">
              <label class="text-xs font-bold uppercase text-slate-400 mb-1 block">Style</label>
              <select id="frame-style" class="w-full p-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-500">
                <option value="none">No Frame</option>
                <option value="simple-box">Simple Box</option>
                <option value="rounded">Rounded Card</option>
                <option value="circle">Circular</option>
                <option value="polaroid">Polaroid</option>
                <option value="phone">Smartphone</option>
                <option value="bottom-bar">Bottom Label</option>
                <option value="top-header">Top Header</option>
                <option value="ticket">Ticket Stub</option>
                <option value="chat">Chat Bubble</option>
                <option value="neon">Neon Glow</option>
              </select>
            </div>
            <div>
              <label class="text-xs font-bold uppercase text-slate-400 mb-1 block">Frame Color</label>
              <input type="color" id="frame-color" value="#4F46E5">
            </div>
            <div>
               <label class="text-xs font-bold uppercase text-slate-400 mb-1 block">Label Color</label>
               <input type="color" id="text-color" value="#ffffff">
            </div>
          </div>
          
          <div>
            <label class="text-xs font-bold uppercase text-slate-400 mb-1 block">Label Text</label>
            <input type="text" id="frame-label" placeholder="SCAN ME" maxlength="25" class="w-full p-3 font-bold text-center uppercase tracking-wide border border-slate-200 dark:border-slate-700 rounded-xl dark:bg-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500 outline-none">
          </div>
        </div>

        <div class="bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700">
          <h2 class="text-lg font-bold mb-4 flex items-center gap-2"><i class="fa-solid fa-palette text-indigo-500"></i> Design</h2>
          <div class="grid grid-cols-2 gap-3 mb-4">
             <div>
               <label class="text-xs font-bold uppercase text-slate-400 mb-1 block">QR Dots</label>
               <input type="color" id="foreground" value="#000000">
             </div>
             <div>
               <label class="text-xs font-bold uppercase text-slate-400 mb-1 block">Background</label>
               <input type="color" id="background" value="#ffffff">
             </div>
          </div>
          <div>
             <label class="text-xs font-bold uppercase text-slate-400 mb-1 block">Size (px)</label>
             <input type="range" id="size" min="300" max="1200" value="600" class="w-full accent-indigo-600 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700">
             <div class="text-right text-xs text-slate-500 mt-1" id="size-label">600px</div>
          </div>
        </div>
      </div>

      <div class="lg:col-span-8 flex flex-col items-center">
        <div class="sticky top-24 w-full flex flex-col items-center">
          <h3 class="text-xl font-bold mb-6 text-slate-400 uppercase tracking-wider">Live Preview</h3>
          
          <div class="relative p-8 bg-white/50 dark:bg-slate-800/50 rounded-3xl border border-slate-200 dark:border-slate-700 backdrop-blur shadow-xl flex justify-center items-center">
             <div class="absolute inset-0 opacity-10" style="background-image: radial-gradient(#6366f1 1px, transparent 1px); background-size: 20px 20px; border-radius: 1.5rem;"></div>
            <canvas id="main-canvas" class="relative max-w-full h-auto shadow-2xl rounded-lg"></canvas>
          </div>

          <div class="flex flex-wrap justify-center gap-4 mt-10 w-full max-w-lg">
            <button onclick="downloadQR()" class="flex-1 bg-slate-900 hover:bg-black dark:bg-white dark:text-slate-900 text-white py-4 rounded-xl font-bold text-lg shadow-lg transition transform hover:-translate-y-1 flex justify-center items-center gap-2">
              <i class="fa-solid fa-download"></i> Download PNG
            </button>
            <button onclick="copyQR()" class="flex-1 bg-indigo-600 hover:bg-indigo-700 text-white py-4 rounded-xl font-bold text-lg shadow-lg transition transform hover:-translate-y-1 flex justify-center items-center gap-2">
              <i class="fa-solid fa-copy"></i> Copy Image
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const qr = new QRious({ size: 500 });
    const mainCanvas = document.getElementById('main-canvas');
    const ctx = mainCanvas.getContext('2d');

    // --- Templates ---
    const templates = {
      text: `<input type="text" id="text" placeholder="https://example.com" class="w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white">`,
      wifi: `<input type="text" id="ssid" placeholder="WiFi Name (SSID)" class="w-full p-3 border rounded-xl mb-2 dark:bg-slate-900 dark:border-slate-700 dark:text-white">
             <input type="password" id="password" placeholder="Password" class="w-full p-3 border rounded-xl mb-2 dark:bg-slate-900 dark:border-slate-700 dark:text-white">
             <select id="encryption" class="w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white"><option value="WPA">WPA/WPA2</option><option value="">Open</option></select>`,
      email: `<input type="email" id="email" placeholder="Email" class="w-full p-3 border rounded-xl mb-2 dark:bg-slate-900 dark:border-slate-700 dark:text-white">
              <input type="text" id="subject" placeholder="Subject" class="w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white">`,
      phone: `<input type="tel" id="phone" placeholder="+1 555 000 0000" class="w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white">`
    };

    // --- Event Listeners ---
    document.getElementById('type').addEventListener('change', function() {
      document.getElementById('dynamic-fields').innerHTML = templates[this.value];
      attachListeners();
      updateQR();
    });
    document.getElementById('size').addEventListener('input', (e) => {
        document.getElementById('size-label').innerText = e.target.value + 'px';
        updateQR();
    });

    function attachListeners() {
      document.querySelectorAll('input, select').forEach(el => {
        el.removeEventListener('input', debouncedUpdate);
        el.addEventListener('input', debouncedUpdate);
      });
    }

    // --- Logic ---
    function getQRValue() {
      const type = document.getElementById('type').value;
      try {
        if (type === 'text') return document.getElementById('text')?.value || 'https://UtilityKit.com';
        if (type === 'wifi') return `WIFI:T:${document.getElementById('encryption').value};S:${document.getElementById('ssid').value};P:${document.getElementById('password').value};;`;
        if (type === 'email') return `mailto:${document.getElementById('email').value}?subject=${document.getElementById('subject').value}`;
        if (type === 'phone') return `tel:${document.getElementById('phone').value}`;
      } catch(e) {}
      return 'https://UtilityKit.com';
    }

    function updateQR() {
      const size = parseInt(document.getElementById('size').value);
      const fg = document.getElementById('foreground').value;
      const bg = document.getElementById('background').value;
      const frameStyle = document.getElementById('frame-style').value;
      const frameColor = document.getElementById('frame-color').value;
      const label = document.getElementById('frame-label').value.toUpperCase().trim();
      const textColor = document.getElementById('text-color').value;

      // Generate base QR
      qr.set({ value: getQRValue(), size: size, foreground: fg, background: bg, level: 'H' });

      // --- Dynamic Layout Calculation ---
      // Base padding
      let p = Math.floor(size * 0.08); // Padding is 8% of QR size
      if (p < 20) p = 20; 

      let headerH = 0;
      let footerH = 0;
      let borderRadius = 0;

      // 1. Determine Header/Footer based on Style
      if (frameStyle === 'simple-box' || frameStyle === 'rounded') { 
          borderRadius = frameStyle === 'rounded' ? Math.floor(size * 0.1) : 0;
          // If label exists, add footer space
          if (label) footerH = Math.floor(size * 0.15); 
      }
      else if (frameStyle === 'polaroid') { 
          footerH = Math.floor(size * 0.25); 
          borderRadius = 10;
      }
      else if (frameStyle === 'bottom-bar') { 
          footerH = Math.floor(size * 0.15); 
          borderRadius = 20;
      }
      else if (frameStyle === 'top-header') { 
          headerH = Math.floor(size * 0.15); 
          borderRadius = 20;
      }
      else if (frameStyle === 'chat') { 
          p = Math.floor(size * 0.1);
          footerH = label ? Math.floor(size * 0.15) : 60; 
          borderRadius = 40;
      }
      else if (frameStyle === 'ticket') { 
          // If label, add footer stub
          footerH = label ? Math.floor(size * 0.15) : 0; 
      }
      else if (frameStyle === 'circle') { 
          p = Math.floor(size * 0.15);
          // If label, add footer space below circle
          if (label) footerH = Math.floor(size * 0.15);
      }
      else if (frameStyle === 'phone') { 
          p = Math.floor(size * 0.1);
          headerH = Math.floor(size * 0.12); 
          footerH = Math.floor(size * 0.12); 
          borderRadius = Math.floor(size * 0.1);
      }
      else if (frameStyle === 'neon') {
          p = Math.floor(size * 0.1); // Need space for glow
          if(label) footerH = Math.floor(size * 0.12);
      }

      const totalW = size + (p * 2);
      const totalH = size + (p * 2) + headerH + footerH;

      // Setup Canvas
      mainCanvas.width = totalW;
      mainCanvas.height = totalH;

      // --- DRAWING ---
      
      // 1. Frame Background
      ctx.fillStyle = bg; 
      
      if (frameStyle === 'none') {
        ctx.fillRect(0, 0, totalW, totalH);
      } 
      else if (frameStyle === 'circle') {
        ctx.clearRect(0, 0, totalW, totalH);
        // Outer Circle (Frame Color)
        ctx.fillStyle = frameColor;
        ctx.beginPath();
        ctx.arc(totalW/2, (totalH - footerH)/2, (size/2) + p, 0, Math.PI*2);
        ctx.fill();
        // Inner Circle (BG Color)
        ctx.fillStyle = bg;
        ctx.beginPath();
        ctx.arc(totalW/2, (totalH - footerH)/2, (size/2) + (p*0.3), 0, Math.PI*2);
        ctx.fill();
      }
      else if (frameStyle === 'phone') {
        ctx.fillStyle = '#1a1a1a'; // Device Body
        roundRect(ctx, 0, 0, totalW, totalH, borderRadius, true);
        // Screen
        ctx.fillStyle = bg;
        roundRect(ctx, p/2, headerH, totalW - p, size + p, 5, true);
        // Notch/Speaker
        ctx.fillStyle = '#333';
        roundRect(ctx, totalW/2 - 40, 20, 80, 10, 5, true);
      }
      else if (frameStyle === 'ticket') {
        ctx.fillStyle = frameColor;
        // Main ticket body
        ctx.fillRect(0, 0, totalW, totalH);
        
        // Perforation line if label exists
        if (label) {
            ctx.strokeStyle = "rgba(255,255,255,0.5)";
            ctx.lineWidth = 2;
            ctx.setLineDash([10, 10]);
            ctx.beginPath();
            ctx.moveTo(0, totalH - footerH);
            ctx.lineTo(totalW, totalH - footerH);
            ctx.stroke();
            ctx.setLineDash([]); // reset
        }

        // Cutouts
        ctx.globalCompositeOperation = 'destination-out';
        const holeSize = Math.floor(p * 0.8);
        ctx.beginPath();
        ctx.arc(0, (totalH - footerH)/2 + (headerH/2), holeSize, 0, Math.PI*2);
        ctx.arc(totalW, (totalH - footerH)/2 + (headerH/2), holeSize, 0, Math.PI*2);
        ctx.fill();
        ctx.globalCompositeOperation = 'source-over';
        
        // Inner white area
        ctx.fillStyle = bg;
        ctx.fillRect(p/2, p/2, totalW - p, size + p);
      }
      else if (frameStyle === 'chat') {
        ctx.fillStyle = frameColor;
        roundRect(ctx, 0, 0, totalW, totalH - 20, borderRadius, true); // Main bubble
        // Tail
        ctx.beginPath();
        ctx.moveTo(totalW/2 - 20, totalH - 20);
        ctx.lineTo(totalW/2, totalH);
        ctx.lineTo(totalW/2 + 20, totalH - 20);
        ctx.fill();
        // Inner white
        ctx.fillStyle = bg;
        roundRect(ctx, p/2, p/2, totalW - p, totalH - p - (label ? footerH : 30), borderRadius/2, true);
      }
      else if (frameStyle === 'neon') {
        ctx.fillStyle = '#111'; // Dark BG
        ctx.fillRect(0, 0, totalW, totalH);
        // Glow Box
        ctx.shadowColor = frameColor;
        ctx.shadowBlur = p;
        ctx.strokeStyle = frameColor;
        ctx.lineWidth = Math.max(4, size * 0.02);
        ctx.strokeRect(p/2, p/2, size + p, size + p);
        ctx.shadowBlur = 0;
      }
      else {
        // Simple Box, Rounded, Polaroid
        ctx.fillStyle = (frameStyle === 'polaroid') ? '#fff' : frameColor;
        roundRect(ctx, 0, 0, totalW, totalH, borderRadius, true);
        
        // Inner White
        ctx.fillStyle = bg;
        // For simple/rounded, we leave footer colored. For polaroid, footer is white.
        const innerH = (frameStyle === 'polaroid') ? (totalH - footerH - p) : (frameStyle === 'bottom-bar' || label ? size + (p*1.5) : size + p);
        
        // Calculate inner rect based on style
        let innerY = p;
        if (frameStyle === 'top-header') innerY = headerH + (p/2);
        if (frameStyle === 'bottom-bar') innerY = p/2;
        
        // Draw white box for QR
        if (frameStyle !== 'none') {
             // White box logic usually: padding on all sides except footer logic
             let boxY = p;
             if (frameStyle === 'top-header') boxY = headerH + p/2;
             if (frameStyle === 'bottom-bar') boxY = p/2;
             
             // simple/rounded with text: white box stops before footer
             let boxH = size + (p > 20 ? 0 : 0); 
             if (frameStyle === 'simple-box' || frameStyle === 'rounded') boxY = p;

             roundRect(ctx, p, boxY, size, size, Math.max(0, borderRadius - 5), true);
        }
      }

      // 2. Draw QR Code
      ctx.save();
      let qrX = p + (totalW - size - (p*2))/2; // Center X
      let qrY = p;
      
      // Vertical Adjustments
      if (frameStyle === 'top-header') qrY = headerH + (p/2);
      if (frameStyle === 'bottom-bar') qrY = p/2;
      if (frameStyle === 'circle') qrY = (totalH - footerH - size)/2;
      if (frameStyle === 'phone') qrY = headerH + (p/2);
      if (frameStyle === 'ticket') qrY = p; // Top aligned with padding

      // Clipping for rounded styles
      if (frameStyle === 'circle') {
        ctx.beginPath();
        ctx.arc(qrX + size/2, qrY + size/2, size/2, 0, Math.PI*2);
        ctx.clip();
      } 
      else if (frameStyle === 'rounded' || frameStyle === 'phone' || frameStyle === 'chat') {
        roundRect(ctx, qrX, qrY, size, size, borderRadius > 0 ? borderRadius : 0, false);
        ctx.clip();
      }

      ctx.drawImage(qr.image, qrX, qrY, size, size);
      ctx.restore();

      // 3. Draw Label Text (Universal Logic)
      if (label && frameStyle !== 'none') {
        // Calculate dynamic font size (approx 5% of canvas width, min 16px)
        const fontSize = Math.max(16, Math.floor(totalW * 0.06));
        ctx.font = `bold ${fontSize}px sans-serif`;
        ctx.textAlign = 'center';
        ctx.textBaseline = 'middle';
        
        const centerX = totalW / 2;
        let textY = totalH - (footerH / 2); // Default: Center of footer

        // Style specific text adjustments
        if (frameStyle === 'top-header') {
            textY = headerH / 2;
            ctx.fillStyle = textColor;
        }
        else if (frameStyle === 'polaroid') {
            ctx.fillStyle = '#333';
            ctx.font = `${fontSize}px "Courier New", monospace`;
        }
        else if (frameStyle === 'phone') {
            ctx.fillStyle = '#fff'; // Text on phone chin is white
            textY = totalH - (footerH / 2);
        }
        else if (frameStyle === 'ticket') {
            ctx.fillStyle = textColor; // Usually white on colored frame
            textY = totalH - (footerH / 2);
        }
        else if (frameStyle === 'neon') {
             ctx.fillStyle = frameColor;
             ctx.shadowColor = frameColor;
             ctx.shadowBlur = 10;
             textY = totalH - (footerH / 2);
        }
        else if (frameStyle === 'circle') {
             ctx.fillStyle = frameColor; // Text below circle is frame color
             textY = totalH - (footerH / 2);
        }
        else {
            // Simple box, rounded, bottom-bar, chat
            ctx.fillStyle = textColor;
        }

        ctx.fillText(label, centerX, textY);
        ctx.shadowBlur = 0; // Reset
      }
    }

    // Helper: Rounded Rect
    function roundRect(ctx, x, y, w, h, r, fill=false) {
      if (w < 2 * r) r = w / 2;
      if (h < 2 * r) r = h / 2;
      ctx.beginPath();
      ctx.moveTo(x + r, y);
      ctx.arcTo(x + w, y, x + w, y + h, r);
      ctx.arcTo(x + w, y + h, x, y + h, r);
      ctx.arcTo(x, y + h, x, y, r);
      ctx.arcTo(x, y, x + w, y, r);
      ctx.closePath();
      if (fill) ctx.fill();
    }

    // Utilities
    function downloadQR() {
      const a = document.createElement('a');
      a.download = `qrcode-${Date.now()}.png`;
      a.href = mainCanvas.toDataURL('image/png');
      a.click();
    }
    function copyQR() {
      mainCanvas.toBlob(blob => {
        navigator.clipboard.write([new ClipboardItem({ 'image/png': blob })]);
        alert('Copied to clipboard!');
      });
    }
    function debouncedUpdate() {
      clearTimeout(window.updateTimeout);
      window.updateTimeout = setTimeout(updateQR, 100);
    }

    // Init
    document.getElementById('dynamic-fields').innerHTML = templates.text;
    attachListeners();
    setTimeout(updateQR, 100);
  </script>
  <script>
  document.addEventListener('DOMContentLoaded', () => {
    const currentPage = location.pathname.split('/').pop() || 'index.html';

    document.querySelectorAll('.nav-link').forEach(link => {
      if (link.getAttribute('href') === currentPage) {
        link.classList.add('text-indigo-600', 'font-bold');
        link.classList.remove('text-slate-700', 'dark:text-slate-300', 'hover:text-indigo-600');
      } else {
        link.classList.add('text-slate-700', 'dark:text-slate-300', 'hover:text-indigo-600');
      }
    });
  });
</script>

  <!-- Footer (Replace your current simple footer with this detailed structure across ALL pages) -->
<footer class="bg-slate-900 text-white mt-16 border-t border-slate-700">
  <div class="container mx-auto px-6 py-12 max-w-7xl">
    <div class="grid grid-cols-2 md:grid-cols-5 gap-8 border-b border-slate-800 pb-8 mb-8">
      <div>
        <h4 class="text-lg font-bold mb-4 text-indigo-400">UtilityKit</h4>
        <ul class="space-y-2 text-sm text-slate-400">
          <li><a href="about_us.html" class="hover:text-white transition">About Us</a></li>
        </ul>
      </div>
      
      <div>
        <h4 class="text-lg font-bold mb-4 text-indigo-400">Image Tools</h4>
        <ul class="space-y-2 text-sm text-slate-400">
          <li><a href="image.html" class="hover:text-white transition">Image Converter</a></li>
          <li><a href="compress.html" class="hover:text-white transition">Image Compressor</a></li>
          <li><a href="ocr.html" class="hover:text-white transition">Image OCR</a></li>
        </ul>
      </div>
      
      <div>
        <h4 class="text-lg font-bold mb-4 text-indigo-400">Data Tools</h4>
        <ul class="space-y-2 text-sm text-slate-400">
          <li><a href="json.html" class="hover:text-white transition">JSON Formatter</a></li>
          <li><a href="base64.html" class="hover:text-white transition">Base64 Encoder</a></li>
          <li><a href="timestamp.html" class="hover:text-white transition">Timestamp Converter</a></li>
        </ul>
      </div>
      
      <div class="col-span-2 md:col-span-1">
        <h4 class="text-lg font-bold mb-4 text-red-400">Legal</h4>
        <ul class="space-y-2 text-sm text-slate-400">
          <li><a href="privacy_policy.html" class="hover:text-white transition text-white font-bold">Privacy Policy (AdSense Required)</a></li>
          <li><a href="terms_of_service.html" class="hover:text-white transition">Terms of Service</a></li>
          <li><a href="disclaimer.html" class="hover:text-white transition">Disclaimer</a></li>
        </ul>
      </div>
    </div>
    
    <div class="text-center text-slate-500 text-sm">
      <p>&copy; 2025 UtilityKit. All rights reserved. | <span class="font-semibold text-teal-400">Powered by client-side technology for your privacy.</span></p>
    </div>
  </div>
</footer>
</body>
</html>
